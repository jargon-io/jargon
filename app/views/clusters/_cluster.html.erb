<%# locals: (cluster:) %>

<div id="<%= dom_id(cluster) %>" class="border rounded-lg p-5 transition-colors border-default hover:border-strong relative">
  <% if cluster.image_url.present? %>
    <%= image_tag cluster.image_url, class: "h-32 max-w-48 object-contain float-right ml-4 rounded hidden md:block" %>
  <% end %>

  <h2 class="text-xl font-semibold text-heading pr-24">
    <%= link_to cluster.name.presence || "Unnamed cluster", cluster %>
  </h2>

  <% if cluster.clusterable_type == "Insight" %>
    <% if cluster.body.present? %>
      <p class="text-body mt-3"><%= render_content(cluster.body, current_item: cluster) %></p>
    <% end %>

    <%= render "shared/snippet", text: cluster.snippet, compact: true, current_item: cluster %>
  <% else %>
    <% if cluster.summary.present? %>
      <p class="text-body mt-3"><%= render_content(cluster.summary, current_item: cluster) %></p>
    <% end %>
  <% end %>
</div>

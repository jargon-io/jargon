<header class="sm:fixed sm:top-0 sm:left-0 sm:right-0 surface border-b border-default sm:z-50">
  <div class="container mx-auto px-5 py-3">
    <div class="w-full max-w-2xl mx-auto flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4">
      <%= link_to root_path, class: "text-xl font-semibold text-heading flex items-center gap-2 shrink-0" do %>
        <%= image_tag "logo.png", class: "h-6 w-6" %>
        <span>Jargon</span>
      <% end %>
      <div class="flex-1 relative min-w-0" data-controller="autocomplete">
        <%= form_with url: queries_path, method: :post, class: "flex gap-2" do |f| %>
          <%= f.text_field :q,
              placeholder: "URL or question...",
              autocomplete: "off",
              data: { autocomplete_target: "input", action: "input->autocomplete#search keydown->autocomplete#navigate" },
              class: "flex-1 min-w-0 px-3 py-2 surface border border-strong rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" %>
          <%= f.submit "Go",
              class: "px-4 py-2 btn-primary rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 cursor-pointer shrink-0" %>
        <% end %>
        <%= turbo_frame_tag "autocomplete-results", data: { autocomplete_target: "results" } %>
      </div>
    </div>
  </div>
</header>

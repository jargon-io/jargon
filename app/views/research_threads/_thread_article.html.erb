<%# locals: (article:, relevance_note:) %>
<div id="<%= dom_id(article, :thread) %>" class="border border-gray-200 rounded-lg p-4 hover:border-gray-300 transition-colors">
  <div class="flex items-start justify-between gap-4">
    <div class="flex-1">
      <h3 class="font-medium">
        <%= link_to article.title || "Processing...", article, class: "text-blue-600 hover:text-blue-800" %>
      </h3>
      <% if relevance_note.present? %>
        <p class="text-sm text-gray-600 mt-1"><%= relevance_note %></p>
      <% end %>
    </div>
    <div class="flex-shrink-0">
      <% if article.pending? %>
        <span class="inline-flex items-center px-2 py-1 text-xs font-medium rounded-full bg-amber-100 text-amber-700">
          Processing
        </span>
      <% elsif article.complete? %>
        <span class="inline-flex items-center px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-700">
          Ready
        </span>
      <% else %>
        <span class="inline-flex items-center px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-700">
          Failed
        </span>
      <% end %>
    </div>
  </div>
</div>
